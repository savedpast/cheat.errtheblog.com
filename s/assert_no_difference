<!DOCTYPE html><html><head><title>$ command line ruby cheat sheets</title><link charset="utf-8" href="/style.css" media="screen" rel="stylesheet" type="text/css" /></head><body><div class="main"><div class="header"><h1><a href="/">cheat sheets.</a></h1><code class="header">$ command line ruby cheat sheets</code></div></div><div class="content"><pre>assert_no_difference -- an assertion for your testing suite

Usage:
  assert_no_difference 'Model.count' do
    puts &quot;blah&quot;
  end

Synonym for:
  assert_difference 'Model.count', 0 do
    puts &quot;blah&quot; #or any action that will NOT change the argument.
  end

This is useful for when you are testing benign actions or, even better, when you have fail-safes that allow an action to be executed but do not actually affect the database.
For instance, you've got an action that is protected by authentication and you don't want to broadcast its existance to anyone with lesser permissions.  If an unauthenticated
use navigates to the action, just let them see nothing (render :nothing =&gt; true or something to that effect) and chug along without caring.</pre></div><div class="clear"></div><div class="footer">Powered by <a href="http://www.sinatrarb.com/">Sinatra</a>,
<a href="http://puma.io/">Puma</a> and, to a lesser extent,
<a href="http://errtheblog.com/">Err the Blog</a>.</div></body></html>